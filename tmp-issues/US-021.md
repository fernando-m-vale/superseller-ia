## Contexto
Criar o schema operacional mínimo para suportar listings e métricas diárias. Rodar localmente via Docker Postgres ou instância local. Sugestão: Prisma pela DX.

## Tabelas (mínimo)
- tenants (id, name, created_at)
- users (id, tenant_id, email, role, created_at)
- marketplace_connections (id, tenant_id, type, access_token, refresh_token, expires_at, status)
- listings (id, tenant_id, marketplace, listing_id_ext, title, price, stock, status, category, updated_at)
- listing_metrics_daily (id, tenant_id, listing_id, date, impressions, clicks, ctr, visits, conversion, orders, gmv)

## Tarefas
- [ ] Adicionar Prisma (ou Knex) ao `apps/api`
- [ ] Criar migrations do schema acima
- [ ] Scripts npm: `db:up`, `db:down`, `db:studio` (se Prisma)
- [ ] `.env.example` com `DATABASE_URL`
- [ ] Documentar no `docs/README-dev.md` como rodar DB local (Docker compose opcional)

## AC
- [ ] `pnpm --filter api db:up` cria as tabelas
- [ ] `pnpm --filter api db:down` reverte
- [ ] Conexão respeita `DATABASE_URL`

## DoD
- [ ] PR com descrição clara e comandos de teste
- [ ] CI build ok

## Riscos
- Colisões de versões de Node/Prisma no CI
- Config de timezone para métricas diárias

## Links
- `docs/architecture.md` (modelo de dados)
- `docs/README-dev.md`
